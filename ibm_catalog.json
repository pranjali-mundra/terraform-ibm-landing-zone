{
  "products": [
    {
      "name": "testing-deploy-arch-ibm-slz-ocp",
      "label": "[Add-ons Beta] Red Hat OpenShift Container Platform on VPC landing zone",
      "product_kind": "solution",
      "tags": [
        "compute",
        "ibm_created",
        "target_terraform",
        "terraform",
        "reference_architecture",
        "solution"
      ],
      "keywords": [
        "vpc",
        "slz",
        "IaC",
        "infrastructure as code",
        "terraform",
        "solution",
        "Red Hat OpenShift Container Platform",
        "OCP"
      ],
      "short_description": "Creates Red Hat OpenShift workload clusters on a secure VPC network",
      "long_description": "The Red Hat OpenShift Container Platform on VPC landing zone provides the tools to deploy a Red Hat OpenShift Container Platform cluster in a single Virtual Private Cloud (VPC) network. The VPC is a multi-zoned, multi-subnet implementation that keeps your VPC secure and highly available.\n",
      "offering_docs_url": "https://cloud.ibm.com/docs/secure-infrastructure-vpc?topic=secure-infrastructure-vpc-overview#overview-ocp",
      "offering_icon_url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-landing-zone/main/.docs/images/deploy-arch-slz-ocp-lt.svg",
      "provider_name": "IBM",
      "features": [
        {
          "description": "Creates and configures one or more clusters to handle workloads. You can specify the version and cluster size.\n",
          "title": "Creates Open Shift Container Platform clusters for workloads"
        },
        {
          "description": "With worker pools, you can group and manage worker nodes with similar configurations, such as compute resources and availability zones.\n",
          "title": "Creates worker pools"
        },
        {
          "description": "Configures the subnets for the cluster, and specifies the subnets to deploy the worker nodes in.\n",
          "title": "Configures subnets for containers"
        },
        {
          "description": "Configures private and public endpoints for the cluster.\n",
          "title": "Supports private and public endpoints"
        },
        {
          "description": "Configures the ingress controller for the cluster, responsible for routing external traffic to the appropriate services within the cluster.\n",
          "title": "Configures ingress"
        }
      ],
      "flavors": [
        {
          "label": "Testing - Cloud automation for SLZ(ROKS)",
          "name": "addon",
          "install_type": "extension",
          "working_directory": "patterns/roks",
          "compliance": {
            "authority": "scc-v3",
            "profiles": [
              {
                "profile_name": "IBM Cloud Framework for Financial Services",
                "profile_version": "1.7.0"
              }
            ],
            "controls": []
          },
          "release_notes_url": "https://cloud.ibm.com/docs/secure-infrastructure-vpc?topic=secure-infrastructure-vpc-secure-infrastructure-vpc-relnotes",
          "dependencies": [
            {
              "name": "testing-deploy-arch-ibm-kms",
              "id": "85fdbd7a-8c77-4abd-b716-653a31f3aba9",
              "flavors": [
                "standard"
              ],
              "catalog_id": "f64499c8-eb50-4985-bf91-29f9e605a433",
              "input_mapping": [
                {
                  "dependency_output": "kms_instance_crn",
                  "version_input": "existing_kms_instance_crn"
                },
                {
                  "dependency_output": "resource_group_name",
                  "version_input": "existing_kms_resource_group"
                }
              ],
              "optional": true,
              "version": ">=1.0.1",
              "on_by_default": true
            },
            {
              "name": "deploy-arch-ibm-cos",
              "id": "68921490-2778-4930-ac6d-bae7be6cd958-global",
              "flavors": [
                "instance"
              ],
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "input_mapping": [
                {
                  "dependency_output": "cos_instance_name",
                  "version_input": "existing_cos_instance_name"
                },
                {
                  "dependency_output": "resource_group_name",
                  "version_input": "existing_cos_resource_group"
                }
              ],
              "optional": true,
              "version": ">=8.15.0",
              "on_by_default": true
            },
            {
              "name": "deploy-arch-ibm-account-infra-base",
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "flavors": [
                "standard"
              ],
              "id": "63641cec-6093-4b4f-b7b0-98d2f4185cd6-global",
              "input_mapping": [],
              "optional": true,
              "on_by_default": true,
              "version": ">=1.11.6"
            }
          ],
          "configuration": [
            {
              "key": "ibmcloud_api_key",
              "required": true
            },
            {
              "key": "prefix",
              "required": true
            },
            {
              "key": "region",
              "required": true,
              "custom_config": {
                "type": "vpc_region",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "generationType": "2"
                }
              }
            },
            {
              "key": "vpcs",
              "value": [
                "management",
                "workload"
              ]
            },
            {
              "key": "ignore_vpcs_for_cluster_deployment",
              "value": [
                "management"
              ]
            },
            {
              "key": "enable_transit_gateway"
            },
            {
              "key": "add_atracker_route"
            },
            {
              "key": "existing_kms_instance_name"
            },
            {
              "key": "existing_kms_resource_group"
            },
            {
              "key": "existing_kms_endpoint_type"
            },
            {
              "key": "existing_cos_instance_name"
            },
            {
              "key": "existing_cos_resource_group"
            },
            {
              "key": "existing_cos_endpoint_type"
            },
            {
              "key": "use_existing_cos_for_vpc_flowlogs"
            },
            {
              "key": "cluster_zones"
            },
            {
              "key": "flavor"
            },
            {
              "key": "workers_per_zone"
            }
          ],
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "appid"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "cloud-object-storage"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "hs-crypto"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator",
                "crn:v1:bluemix:public:iam-identity::::serviceRole:UserApiKeyCreator"
              ],
              "service_name": "iam-identity"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "kms"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "containers-kubernetes"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "is.vpc"
            }
          ],
          "architecture": {
            "descriptions": "",
            "features": [
              {
                "title": "Separate VPC for management",
                "description": "Yes"
              },
              {
                "title": "Separate VPC for workloads",
                "description": "Yes"
              },
              {
                "title": "Red Hat OpenShift",
                "description": "Yes"
              },
              {
                "title": "Increases security with Key Management",
                "description": "Yes"
              },
              {
                "title": "Reduces failure events by using multizone regions",
                "description": "Yes"
              },
              {
                "title": "Collects and stores Internet Protocol (IP) traffic information with Activity Tracker and Flow Logs",
                "description": "Yes"
              },
              {
                "title": "Securely connects to multiple networks with a site-to-site virtual private network",
                "description": "Yes"
              },
              {
                "title": "Simplifies risk management and demonstrates regulatory compliance with Financial Services",
                "description": "Yes"
              },
              {
                "title": "Uses an edge VPC for secure access through the public internet",
                "description": "Yes, if enabled"
              },
              {
                "title": "Uses Floating IP address for access through the public internet",
                "description": "No"
              },
              {
                "description": "Configures existing CBR (Context-based restrictions) rules to allow traffic to flow only from the landing zone VPCs to specific cloud services.\n",
                "title": "Configures CBR"
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "Red Hat OpenShift Container Platform on VPC landing zone - Standard variation",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-landing-zone/main/reference-architectures/roks.drawio.svg",
                  "type": "image/svg+xml"
                },
                "description": "The Standard variation of the Red Hat OpenShift Container Platform on VPC landing zone is based on the IBM Cloud for Financial Services reference architecture. The architecture creates secure and compliant Red Hat OpenShift Container Platform workload clusters on a Virtual Private Cloud (VPC) network."
              }
            ]
          }
        }
      ]
    }
  ]
}
